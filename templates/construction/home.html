{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% block title %}{% trans "Dorsamehr Construction - Building Excellence" %}{% endblock %}

{% block content %}
<!-- Theme Toggle -->


<!-- Hero Section -->
<section class="bg-gradient-to-br from-[#95a236] to-[#7a8a2b] text-white py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="{% if LANGUAGE_CODE == 'fa' %}text-right{% endif %}">
                <h1 class="text-4xl md:text-6xl font-bold mb-6">
                    {% trans "Building Your" %} <span class="text-[#feb906]">{% trans "Dreams" %}</span> {% trans "Into Reality" %}
                </h1>
                <p class="text-xl mb-8 text-gray-100">
                    {% trans "Dorsamehr Construction delivers exceptional quality and innovative solutions for residential, commercial, and industrial projects." %}
                </p>
                <div class="flex flex-col sm:flex-row gap-4 {% if LANGUAGE_CODE == 'fa' %}justify-end{% endif %}">
                    <a href="{% url 'construction:projects' %}" class="bg-[#95a236] text-white px-8 py-3 rounded-lg font-semibold hover:bg-[#7a8a2b] transition duration-300 text-center">
                        {% trans "View Our Projects" %}
                    </a>
                    <a href="{% url 'construction:contact' %}" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-[#feb906] transition duration-300 text-center">
                        {% trans "Get Quote" %}
                    </a>
                </div>
            </div>
            <div class="hidden lg:block">
                <div class="relative">
                    <!-- Main Building Image -->
                    <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 overflow-hidden">
                        <img src="{% static 'images/download.png' %}" alt="Dorsamehr Construction Building Complex" class="w-full h-auto rounded-xl shadow-2xl">
                    </div>
                    <!-- Statistics Overlay -->
                    <div class="absolute -bottom-4 -left-4 bg-white/95 backdrop-blur-sm rounded-xl p-6 shadow-xl">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-center">
                                <div class="text-2xl font-bold text-[#95a236]">15+</div>
                                <div class="text-xs text-gray-600">{% trans "Years Experience" %}</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-[#95a236]">200+</div>
                                <div class="text-xs text-gray-600">{% trans "Projects Completed" %}</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-[#95a236]">50+</div>
                                <div class="text-xs text-gray-600">{% trans "Team Members" %}</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-[#95a236]">100%</div>
                                <div class="text-xs text-gray-600">{% trans "Client Satisfaction" %}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Services Section -->
<section class="py-20 bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">{% trans "Our Services" %}</h2>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                {% trans "We offer comprehensive construction services tailored to meet your specific needs and exceed your expectations." %}
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Residential Construction -->
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 hover:shadow-lg transition duration-300 border border-gray-200 dark:border-gray-700">
                <div class="w-16 h-16 bg-[#95a236] rounded-lg flex items-center justify-center mb-6">
                    <i class="fas fa-home text-2xl text-white"></i>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">{% trans "Residential Construction" %}</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    {% trans "Custom homes, renovations, and residential developments built with quality materials and expert craftsmanship." %}
                </p>
                <a href="{% url 'construction:projects' %}?type=residential" class="text-[#feb906] dark:text-[#95a236] font-semibold hover:text-[#e6a800] dark:hover:text-[#7a8a2b] transition">
                    {% trans "Learn More" %} <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
            
            <!-- Commercial Construction -->
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 hover:shadow-lg transition duration-300 border border-gray-200 dark:border-gray-700">
                <div class="w-16 h-16 bg-[#95a236] rounded-lg flex items-center justify-center mb-6">
                    <i class="fas fa-building text-2xl text-white"></i>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">{% trans "Commercial Construction" %}</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    {% trans "Office buildings, retail spaces, and commercial facilities designed for functionality and aesthetic appeal." %}
                </p>
                <a href="{% url 'construction:projects' %}?type=commercial" class="text-[#feb906] dark:text-[#95a236] font-semibold hover:text-[#e6a800] dark:hover:text-[#7a8a2b] transition">
                    {% trans "Learn More" %} <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
            
            <!-- Industrial Construction -->
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 hover:shadow-lg transition duration-300 border border-gray-200 dark:border-gray-700">
                <div class="w-16 h-16 bg-[#95a236] rounded-lg flex items-center justify-center mb-6">
                    <i class="fas fa-industry text-2xl text-white"></i>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">{% trans "Industrial Construction" %}</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    {% trans "Manufacturing facilities, warehouses, and industrial complexes built for efficiency and durability." %}
                </p>
                <a href="{% url 'construction:projects' %}?type=industrial" class="text-[#feb906] dark:text-[#95a236] font-semibold hover:text-[#e6a800] dark:hover:text-[#7a8a2b] transition">
                    {% trans "Learn More" %} <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Projects Section -->
<section class="py-20 bg-gray-50 dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">{% trans "Featured Projects" %}</h2>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                {% trans "Explore our portfolio of successful projects that showcase our expertise and commitment to quality." %}
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for project in featured_projects %}
            <div class="bg-white dark:bg-gray-900 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition duration-300 border border-gray-200 dark:border-gray-700">
                {% if project.image %}
                <img src="{{ project.image.url }}" alt="{{ project.title }}" class="w-full h-48 object-cover">
                {% else %}
                <div class="w-full h-48 bg-gray-300 dark:bg-gray-600 flex items-center justify-center">
                    <i class="fas fa-building text-4xl text-gray-500 dark:text-gray-400"></i>
                </div>
                {% endif %}
                <div class="p-6">
                    <div class="flex items-center justify-between mb-3">
                        <span class="bg-[#feb906]/10 dark:bg-[#95a236]/10 text-[#feb906] dark:text-[#95a236] text-xs font-semibold px-3 py-1 rounded-full">
                            {{ project.get_project_type_display }}
                        </span>
                        <span class="text-gray-500 dark:text-gray-400 text-sm">{{ project.completion_date|date:"M Y" }}</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{{ project.title }}</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">{{ project.description|truncatewords:20 }}</p>
                    <div class="flex items-center justify-between">
                        <span class="text-gray-500 dark:text-gray-400 text-sm"><i class="fas fa-map-marker-alt mr-1"></i>{{ project.location }}</span>
                        <a href="{% url 'construction:project_detail' project.id %}" class="text-[#feb906] dark:text-[#95a236] font-semibold hover:text-[#e6a800] dark:hover:text-[#7a8a2b] transition">
                            {% trans "View Details" %}
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <i class="fas fa-building text-6xl text-gray-300 dark:text-gray-600 mb-4"></i>
                <p class="text-gray-500 dark:text-gray-400 text-lg">{% trans "No featured projects available yet." %}</p>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="{% url 'construction:projects' %}" class="bg-[#feb906] dark:bg-[#95a236] text-white dark:text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-[#e6a800] dark:hover:bg-[#7a8a2b] transition duration-300">
                {% trans "View All Projects" %}
            </a>
        </div>
    </div>
</section>

<!-- Why Choose Us Section -->
<section class="py-20 bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="{% if LANGUAGE_CODE == 'fa' %}order-2{% endif %}">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6">{% trans "Why Choose Dorsamehr Construction?" %}</h2>
                <div class="space-y-6">
                    <div class="flex items-start {% if LANGUAGE_CODE == 'fa' %}flex-row-reverse{% endif %}">
                        <div class="w-12 h-12 bg-[#95a236] dark:bg-[#95a236] rounded-lg flex items-center justify-center {% if LANGUAGE_CODE == 'fa' %}ml-4{% else %}mr-4{% endif %} flex-shrink-0">
                            <i class="fas fa-medal text-white dark:text-gray-900"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{% trans "Quality Assurance" %}</h3>
                            <p class="text-gray-600 dark:text-gray-300">{% trans "We maintain the highest standards of quality throughout every project phase." %}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start {% if LANGUAGE_CODE == 'fa' %}flex-row-reverse{% endif %}">
                        <div class="w-12 h-12 bg-[#95a236] dark:bg-[#95a236] rounded-lg flex items-center justify-center {% if LANGUAGE_CODE == 'fa' %}ml-4{% else %}mr-4{% endif %} flex-shrink-0">
                            <i class="fas fa-clock text-white dark:text-gray-900"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{% trans "Timely Delivery" %}</h3>
                            <p class="text-gray-600 dark:text-gray-300">{% trans "We complete projects on schedule while maintaining quality and safety standards." %}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start {% if LANGUAGE_CODE == 'fa' %}flex-row-reverse{% endif %}">
                        <div class="w-12 h-12 bg-[#95a236] dark:bg-[#95a236] rounded-lg flex items-center justify-center {% if LANGUAGE_CODE == 'fa' %}ml-4{% else %}mr-4{% endif %} flex-shrink-0">
                            <i class="fas fa-users text-white dark:text-gray-900"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{% trans "Expert Team" %}</h3>
                            <p class="text-gray-600 dark:text-gray-300">{% trans "Our experienced professionals bring expertise and innovation to every project." %}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start {% if LANGUAGE_CODE == 'fa' %}flex-row-reverse{% endif %}">
                        <div class="w-12 h-12 bg-[#95a236] dark:bg-[#95a236] rounded-lg flex items-center justify-center {% if LANGUAGE_CODE == 'fa' %}ml-4{% else %}mr-4{% endif %} flex-shrink-0">
                            <i class="fas fa-shield-alt text-white dark:text-gray-900"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">{% trans "Safety First" %}</h3>
                            <p class="text-gray-600 dark:text-gray-300">{% trans "We prioritize safety in all our operations and maintain strict safety protocols." %}</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="relative {% if LANGUAGE_CODE == 'fa' %}order-1{% endif %}">
                <div class="bg-gray-300 dark:bg-gray-600 h-96 rounded-2xl flex items-center justify-center">
                    <i class="fas fa-hard-hat text-8xl text-gray-500 dark:text-gray-400"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest Blog Posts -->
{% if recent_blogs %}
<section class="py-20 bg-gray-50 dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">{% trans "Latest News & Insights" %}</h2>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                {% trans "Stay updated with the latest trends, tips, and insights from the construction industry." %}
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for blog in recent_blogs %}
            <div class="bg-white dark:bg-gray-900 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition duration-300 border border-gray-200 dark:border-gray-700">
                {% if blog.image %}
                <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="w-full h-48 object-cover">
                {% else %}
                <div class="w-full h-48 bg-gray-300 dark:bg-gray-600 flex items-center justify-center">
                    <i class="fas fa-newspaper text-4xl text-gray-500 dark:text-gray-400"></i>
                </div>
                {% endif %}
                <div class="p-6">
                    <div class="flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3">
                        <span><i class="fas fa-user mr-1"></i>{{ blog.author }}</span>
                        <span class="mx-2">•</span>
                        <span><i class="fas fa-calendar mr-1"></i>{{ blog.published_date|date:"M d, Y" }}</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">{{ blog.title }}</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">{{ blog.excerpt|default:blog.content|truncatewords:20 }}</p>
                    <a href="{% url 'construction:blog_detail' blog.slug %}" class="text-[#feb906] dark:text-[#95a236] font-semibold hover:text-[#e6a800] dark:hover:text-[#7a8a2b] transition">
                        {% trans "Read More" %} <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="{% url 'construction:blog' %}" class="bg-[#feb906] dark:bg-[#95a236] text-white dark:text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-[#e6a800] dark:hover:bg-[#7a8a2b] transition duration-300">
                {% trans "View All Posts" %}
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-br from-[#95a236] to-[#7a8a2b] text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">{% trans "Ready to Start Your Project?" %}</h2>
        <p class="text-xl mb-8 text-gray-100 max-w-3xl mx-auto">
            {% trans "Let's discuss your construction needs and create something amazing together. Contact us today for a free consultation." %}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'construction:contact' %}" class="bg-[#95a236] text-white px-8 py-3 rounded-lg font-semibold hover:bg-[#7a8a2b] transition duration-300">
                {% trans "Get Free Quote" %}
            </a>
            <a href="tel:+982112345678" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-[#feb906] transition duration-300">
                <i class="fas fa-phone mr-2"></i>{% trans "Call Now" %}
            </a>
        </div>
    </div>
</section>

<!-- Theme Toggle JavaScript -->
<script>
    // Dark mode toggle functionality for home page
    function toggleDarkMode() {
        const html = document.documentElement;
        const isDark = html.classList.contains('dark');
        
        if (isDark) {
            html.classList.remove('dark');
            localStorage.setItem('darkMode', 'false');
            // Reset text colors to original
            document.body.classList.remove('dark-mode-active');
        } else {
            html.classList.add('dark');
            localStorage.setItem('darkMode', 'true');
            // Add custom dark mode class
            document.body.classList.add('dark-mode-active');
        }
    }

    // Initialize dark mode from localStorage
    function initializeDarkMode() {
        const savedMode = localStorage.getItem('darkMode');
        const html = document.documentElement;
        
        if (savedMode === 'true' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
            document.body.classList.add('dark-mode-active');
        } else {
            html.classList.remove('dark');
            document.body.classList.remove('dark-mode-active');
        }
    }

    // Add event listeners for dark mode toggles
    document.addEventListener('DOMContentLoaded', function() {
        initializeDarkMode();
        
        // Home page toggle
        const homeDarkModeToggle = document.getElementById('home-dark-mode-toggle');
        if (homeDarkModeToggle) {
            homeDarkModeToggle.addEventListener('click', toggleDarkMode);
        }
    });
</script>

{% endblock %} 