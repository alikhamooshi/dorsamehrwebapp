{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:'en' }}" dir="{% if LANGUAGE_CODE == 'fa' %}rtl{% else %}ltr{% endif %}" class="{% if LANGUAGE_CODE == 'fa' %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans "Dorsamehr Construction" %}{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    
    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    {% block extra_css %}{% endblock %}
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <!-- Navigation -->
    <nav class="bg-white dark:bg-gray-800 shadow-xl border-b border-gray-200 dark:border-gray-700 fixed w-full z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <!-- Logo Section -->
                <div class="flex items-center">
                    <a href="{% url 'construction:home' %}" class="flex-shrink-0 group">
                        <div class="flex items-center space-x-3">
                                                         <img src="{% static 'images/logo/logo1.png' %}" alt="Dorsamehr Construction" class="h-16 w-auto group-hover:scale-105 transition-transform duration-300">
                            <div class="hidden sm:block">
                                <h1 class="text-2xl font-bold bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] bg-clip-text text-transparent group-hover:scale-105 transition-transform duration-300">Dorsamehr</h1>
                                <p class="text-xs text-gray-500 dark:text-gray-400 -mt-1">{% trans "Construction" %}</p>
                            </div>
                        </div>
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-1">
                    <a href="{% url 'construction:home' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-home mr-2"></i>{% trans "Home" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="{% url 'construction:about' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-info-circle mr-2"></i>{% trans "About" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="{% url 'construction:projects' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-project-diagram mr-2"></i>{% trans "Projects" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="{% url 'construction:gallery' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-images mr-2"></i>{% trans "Gallery" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="{% url 'construction:team' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-users mr-2"></i>{% trans "Team" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="{% url 'construction:blog' %}" class="relative text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 group">
                        <i class="fas fa-blog mr-2"></i>{% trans "Blog" %}
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    
                    <!-- Contact Button -->
                    <a href="{% url 'construction:contact' %}" class="ml-4 bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] text-white dark:text-gray-900 px-6 py-2.5 rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm font-semibold flex items-center">
                        <i class="fas fa-envelope mr-2"></i>{% trans "Contact" %}
                    </a>
                    
                                                              <!-- Dark Mode Toggle -->
                     <button id="dark-mode-toggle" class="ml-4 relative flex items-center justify-center w-12 h-12 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl border-2 border-gray-200 dark:border-gray-600 group overflow-hidden">
                         <!-- Background gradient overlay -->
                         <div class="absolute inset-0 bg-gradient-to-r from-[#feb906]/10 to-[#e6a800]/10 dark:from-[#95a236]/10 dark:to-[#7a8a2b]/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                         
                         <!-- Sun icon for light mode -->
                         <i class="fas fa-sun text-[#feb906] text-lg dark:hidden transition-all duration-300 transform group-hover:rotate-12 group-hover:scale-110"></i>
                         <!-- Moon icon for dark mode -->
                         <i class="fas fa-moon text-[#95a236] text-lg hidden dark:block transition-all duration-300 transform group-hover:-rotate-12 group-hover:scale-110"></i>
                     </button>
                     
                     <!-- Language Switcher -->
                     <div class="ml-4 relative group">
                         <button class="flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 px-4 py-2.5 rounded-lg transition-all duration-300 text-sm font-medium border border-gray-200 dark:border-gray-600">
                             <i class="fas fa-globe text-[#feb906] dark:text-[#95a236]"></i>
                             <span class="font-semibold {% if LANGUAGE_CODE == 'en' %}text-blue-600 dark:text-blue-400{% else %}text-green-600 dark:text-green-400{% endif %}">
                                 {% if LANGUAGE_CODE == 'en' %}EN{% else %}FA{% endif %}
                             </span>
                             <i class="fas fa-chevron-down text-xs transition-transform duration-300 group-hover:rotate-180"></i>
                         </button>
                        
                        <!-- Language Dropdown -->
                        <div class="absolute right-0 mt-3 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform origin-top scale-95 group-hover:scale-100">
                            <div class="p-2">
                                <div class="px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide border-b border-gray-100 dark:border-gray-700 mb-2">
                                    {% trans "Select Language" %}
                                </div>
                                <form method="post" action="/i18n/setlang/">
                                    {% csrf_token %}
                                    <input type="hidden" name="next" value="{{ request.path }}">
                                    
                                    <!-- English Option -->
                                    <button type="submit" name="language" value="en" class="w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-blue-100 dark:hover:from-blue-900/20 dark:hover:to-blue-800/20 rounded-lg transition-all duration-200 flex items-center justify-between group {% if LANGUAGE_CODE == 'en' %}bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 border border-blue-200 dark:border-blue-700{% endif %}">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded shadow-sm flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">EN</span>
                                            </div>
                                            <div>
                                                <div class="font-medium">{% trans "English" %}</div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400">English</div>
                                            </div>
                                        </div>
                                        {% if LANGUAGE_CODE == 'en' %}
                                            <div class="w-5 h-5 bg-[#feb906] dark:bg-[#95a236] rounded-full flex items-center justify-center">
                                                <i class="fas fa-check text-white text-xs"></i>
                                            </div>
                                        {% else %}
                                            <div class="w-5 h-5 border-2 border-gray-300 dark:border-gray-600 rounded-full group-hover:border-[#feb906] dark:group-hover:border-[#95a236] transition-colors duration-200"></div>
                                        {% endif %}
                                    </button>
                                    
                                    <!-- Persian Option -->
                                    <button type="submit" name="language" value="fa" class="w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-green-100 dark:hover:from-green-900/20 dark:hover:to-green-800/20 rounded-lg transition-all duration-200 flex items-center justify-between group mt-1 {% if LANGUAGE_CODE == 'fa' %}bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 border border-green-200 dark:border-green-700{% endif %}">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-6 bg-gradient-to-r from-green-500 to-green-600 rounded shadow-sm flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">FA</span>
                                            </div>
                                            <div>
                                                <div class="font-medium">{% trans "Persian" %}</div>
                                                <div class="text-xs text-gray-500 dark:text-gray-400">فارسی</div>
                                            </div>
                                        </div>
                                        {% if LANGUAGE_CODE == 'fa' %}
                                            <div class="w-5 h-5 bg-[#feb906] dark:bg-[#95a236] rounded-full flex items-center justify-center">
                                                <i class="fas fa-check text-white text-xs"></i>
                                            </div>
                                        {% else %}
                                            <div class="w-5 h-5 border-2 border-gray-300 dark:border-gray-600 rounded-full group-hover:border-[#feb906] dark:group-hover:border-[#95a236] transition-colors duration-200"></div>
                                        {% endif %}
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Navigation - Always Visible -->
                <div class="lg:hidden flex items-center space-x-1">
                    <a href="{% url 'construction:home' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "Home" %}
                    </a>
                    <a href="{% url 'construction:about' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "About" %}
                    </a>
                    <a href="{% url 'construction:projects' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "Projects" %}
                    </a>
                    <a href="{% url 'construction:gallery' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "Gallery" %}
                    </a>
                    <a href="{% url 'construction:team' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "Team" %}
                    </a>
                    <a href="{% url 'construction:blog' %}" class="text-gray-700 dark:text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] px-2 py-2 text-xs font-medium transition-all duration-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50">
                        {% trans "Blog" %}
                    </a>
                                         <a href="{% url 'construction:contact' %}" class="bg-gradient-to-r from-[#feb906] to-[#e6a800] dark:from-[#95a236] dark:to-[#7a8a2b] text-white dark:text-gray-900 px-3 py-2 rounded-lg hover:shadow-lg transition-all duration-300 text-xs font-semibold">
                         {% trans "Contact" %}
                     </a>
                     
                     <!-- Mobile Dark Mode Toggle -->
                     <button id="mobile-dark-mode-toggle" class="relative flex items-center justify-center w-10 h-10 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg border-2 border-gray-200 dark:border-gray-600 group overflow-hidden">
                         <!-- Background gradient overlay -->
                         <div class="absolute inset-0 bg-gradient-to-r from-[#feb906]/10 to-[#e6a800]/10 dark:from-[#95a236]/10 dark:to-[#7a8a2b]/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                         
                         <!-- Sun icon for light mode -->
                         <i class="fas fa-sun text-[#feb906] text-sm dark:hidden transition-all duration-300 transform group-hover:rotate-12 group-hover:scale-110"></i>
                         <!-- Moon icon for dark mode -->
                         <i class="fas fa-moon text-[#95a236] text-sm hidden dark:block transition-all duration-300 transform group-hover:-rotate-12 group-hover:scale-110"></i>
                     </button>
                     
                     <!-- Mobile Language Switcher -->
                     <div class="relative group">
                        <button class="flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 px-3 py-2 rounded-lg transition-all duration-300 text-sm font-medium border border-gray-200 dark:border-gray-600">
                            <i class="fas fa-globe text-[#feb906] dark:text-[#95a236] text-xs"></i>
                            <span class="font-semibold text-xs {% if LANGUAGE_CODE == 'en' %}text-blue-600 dark:text-blue-400{% else %}text-green-600 dark:text-green-400{% endif %}">
                                {% if LANGUAGE_CODE == 'en' %}EN{% else %}FA{% endif %}
                            </span>
                        </button>
                        
                        <!-- Mobile Language Dropdown -->
                        <div class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                            <div class="p-2">
                                <form method="post" action="/i18n/setlang/">
                                    {% csrf_token %}
                                    <input type="hidden" name="next" value="{{ request.path }}">
                                    
                                    <button type="submit" name="language" value="en" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-200 flex items-center justify-between {% if LANGUAGE_CODE == 'en' %}bg-blue-50 dark:bg-blue-900/30{% endif %}">
                                        <span class="font-medium">{% trans "English" %}</span>
                                        {% if LANGUAGE_CODE == 'en' %}
                                            <i class="fas fa-check text-[#feb906] dark:text-[#95a236]"></i>
                                        {% endif %}
                                    </button>
                                    
                                    <button type="submit" name="language" value="fa" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-200 flex items-center justify-between {% if LANGUAGE_CODE == 'fa' %}bg-green-50 dark:bg-green-900/30{% endif %}">
                                        <span class="font-medium">{% trans "Persian" %}</span>
                                        {% if LANGUAGE_CODE == 'fa' %}
                                            <i class="fas fa-check text-[#feb906] dark:text-[#95a236]"></i>
                                        {% endif %}
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 dark:bg-black text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div class="col-span-1 md:col-span-2">
                    <h3 class="text-2xl font-bold text-[#feb906] dark:text-[#95a236] mb-4">Dorsamehr Construction</h3>
                    <p class="text-gray-300 mb-4">{% trans "Building excellence, creating value, and delivering quality construction solutions for over 15 years." %}</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-[#feb906] dark:hover:text-[#95a236] transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-[#feb906] dark:hover:text-[#95a236] transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-[#feb906] dark:hover:text-[#95a236] transition"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="text-gray-400 hover:text-[#feb906] dark:hover:text-[#95a236] transition"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">{% trans "Quick Links" %}</h4>
                    <ul class="space-y-2">
                        <li><a href="{% url 'construction:home' %}" class="text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] transition">{% trans "Home" %}</a></li>
                        <li><a href="{% url 'construction:about' %}" class="text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] transition">{% trans "About Us" %}</a></li>
                        <li><a href="{% url 'construction:projects' %}" class="text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] transition">{% trans "Projects" %}</a></li>
                        <li><a href="{% url 'construction:team' %}" class="text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] transition">{% trans "Team" %}</a></li>
                        <li><a href="{% url 'construction:blog' %}" class="text-gray-300 hover:text-[#feb906] dark:hover:text-[#95a236] transition">{% trans "Blog" %}</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">{% trans "Contact Info" %}</h4>
                    <div class="space-y-2 text-gray-300">
                        <p><i class="fas fa-map-marker-alt mr-2"></i> Tehran, Iran</p>
                        <p><i class="fas fa-phone mr-2"></i> +98 21 1234 5678</p>
                        <p><i class="fas fa-envelope mr-2"></i> info@dorsamehr.com</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Dorsamehr Construction. {% trans "All rights reserved." %}</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Dark mode toggle functionality
        function toggleDarkMode() {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('darkMode', 'false');
                // Reset text colors to original
                document.body.classList.remove('dark-mode-active');
            } else {
                html.classList.add('dark');
                localStorage.setItem('darkMode', 'true');
                // Add custom dark mode class
                document.body.classList.add('dark-mode-active');
            }
        }

        // Initialize dark mode from localStorage
        function initializeDarkMode() {
            const savedMode = localStorage.getItem('darkMode');
            const html = document.documentElement;
            
            if (savedMode === 'true' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
                document.body.classList.add('dark-mode-active');
            } else {
                html.classList.remove('dark');
                document.body.classList.remove('dark-mode-active');
            }
        }

        // Add event listeners for dark mode toggles
        document.addEventListener('DOMContentLoaded', function() {
            initializeDarkMode();
            
            // Desktop toggle
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            if (darkModeToggle) {
                darkModeToggle.addEventListener('click', toggleDarkMode);
            }
            
            // Mobile toggle
            const mobileDarkModeToggle = document.getElementById('mobile-dark-mode-toggle');
            if (mobileDarkModeToggle) {
                mobileDarkModeToggle.addEventListener('click', toggleDarkMode);
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html> 